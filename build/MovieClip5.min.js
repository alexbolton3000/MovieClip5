/*! MovieClip5 2016-01-18 */
function DisplayObject(a){a=a||{},this._x=void 0!==a._x?a._x:0,this._y=void 0!==a._y?a._y:0,this._originX=void 0!==a._originX?a._originX:0,this._originY=void 0!==a._originY?a._originY:0,this._width=void 0!==a._width?a._width:0,this._height=void 0!==a._height?a._height:0,this._scaleX=void 0!==a._scaleX?a._scaleX:1,this._scaleY=void 0!==a._scaleY?a._scaleY:1,this._skewX=void 0!==a._skewX?a._skewX:0,this._skewY=void 0!==a._skewY?a._skewY:0,this._rotation=void 0!==a.args_rotation?a._rotation:0,this._alpha=void 0!==a._alpha?a._alpha:1,this._depth=void 0!==a._depth?a._depth:1,this._visible=a._visible||!0,this._graphic=a._graphic||"rectangle",this._graphicArgs=a._graphicArgs||{},this._smoothImage=a._smoothImage||"inherit"}function Graphic(){}function MovieClip(a){a=a||{},this._children=[],this._tweens=[],this._uniqueID=MovieClip.objectCount++,this._name=a._name||MovieClip.getUniqueName(this._uniqueID),this._parent=null,this.onEnterFrame=a.onEnterFrame||null,this.init=a.init||null,DisplayObject.call(this,a),null!==this.init&&this.init()}function ResourceLoader(){this._loadedResources=0,this._totalResources=0}function Stage(a,b){b=b||{};var c,d,e,f,g,h=this,i=500,j=500,k=b.frameRate||24,l=[],m=null,n=document.getElementById(a),o=n.getContext("2d"),p=b.displayState||"fit";Object.defineProperty(this,"width",{get:function(){return i}}),Object.defineProperty(this,"height",{get:function(){return j}}),Object.defineProperty(this,"frameRate",{get:function(){return k},set:function(a){a!==k&&(k=a,f()&&(h.stop(),h.play()))}}),Object.defineProperty(this,"displayState",{get:function(){return p},set:function(a){p=a,e()}}),c=function(){h.onFullScreen(),l.forEach(function(a){a.onFullScreen&&a.onFullScreen()})},d=function(){e(),h.onResize(),l.forEach(function(a){a.onResize&&a.onResize()})},f=function(){return null!==m},g=function(){h.tickLogic(),o.clearRect(0,0,n.width,n.height),h.tickGraphics(o)},e=function(){n.width=n.offsetWidth,n.height=n.offsetHeight,"original"==p?(h._x=(n.width-h.width)/2,h._y=(n.height-h.height)/2,h._scaleX=1,h._scaleY=1):"stretch"==p?(h._x=0,h._y=0,h._scaleX=n.width/h.width,h._scaleY=n.height/h.height):"fit"==p?(h._x=0,h._y=0,h._scaleX=n.width/h.width,h._scaleY=n.height/h.height,h._scaleX>h._scaleY?(h._scaleX=h._scaleY,h._x=(n.width-h.width*h._scaleX)/2):(h._scaleY=h._scaleX,h._y=(n.height-h.height*h._scaleY)/2)):"dynamic"==p&&(i=n.offsetWidth,j=n.offsetHeight,h._width=i,h._height=j,h._x=0,h._y=0,h._scaleX=1,h._scaleY=1)},this.onFullScreen=function(){},this.onResize=function(){},this.addListener=function(a){l.push(a)},this.removeListener=function(a){for(var b in this._listeners)if(this._listeners[b]==a){delete this._listeners[b],this._listeners.splice(b,1);break}},this.play=function(){f()||(m=setInterval(function(){window.requestAnimationFrame(g)},Math.round(1e3/k)))},this.stop=function(){f()&&(clearInterval(m),m=null)},b._graphic="stage",MovieClip.call(this,b),window.addEventListener("resize",d),d()}function Tween(a,b){this.target=a.target,this.start=a.start||{},this.end=a.end||!1,this.frames=a.frames||1,this.type=a.type||"linearTween",this.current_frame=0,this.callback=void 0===b?null:b,this.ratio=0;for(var c in this.end)"number"==typeof this.target[c]?this.start[c]=this.target[c]:delete this.end[c]}DisplayObject.prototype.applyContext=function(a){1!==this._alpha&&(a.globalAlpha*=this._alpha),(0!==this._x||0!==this._y)&&a.translate(this._x,this._y),(1!==this._scaleX||1!==this._scaleY)&&a.scale(this._scaleX,this._scaleY),0!==this._rotation&&a.rotate(this._rotation*Math.PI/180),(0!==this._skewX||0!==this._skewY)&&a.transform(1,this._skewX,this._skewY,1,0,0),(0!==this._originX||0!==this._originY)&&a.translate(this._originX,this._originY),"inherit"!==this._smoothImage&&(a.imageSmoothingEnabled=this._smoothImage)},DisplayObject.prototype.renderGraphics=function(a){void 0!==this._graphicArgs.fillStyle&&(a.fillStyle=this._graphicArgs.fillStyle),void 0!==this._graphicArgs.strokeStyle&&(a.strokeStyle=this._graphicArgs.strokeStyle),"stage"===this._graphic?(a.beginPath(),a.rect(0,0,this._width,this._height),a.clip()):"rectangle"===this._graphic?(a.beginPath(),a.rect(0,0,this._width,this._height),void 0!==this._graphicArgs.fillStyle&&a.fill(),void 0!==this._graphicArgs.strokeStyle&&a.stroke()):"ellipse"===this._graphic?(a.beginPath(),a.ellipse(0,0,this._width/2,this._height/2,this._graphicArgs.rotation||0,this._graphicArgs.startAngle||0,this._graphicArgs.endAngle||2*Math.PI,this._graphicArgs.anticlockwise||!1),void 0!==this._graphicArgs.fillStyle&&a.fill(),void 0!==this._graphicArgs.strokeStyle&&a.stroke()):"text"===this._graphic?(void 0!==this._graphicArgs.font&&(a.font=this._graphicArgs.font),void 0!==this._graphicArgs.textAlign&&(a.textAlign=this._graphicArgs.textAlign),void 0!==this._graphicArgs.textBaseline&&(a.textBaseline=this._graphicArgs.textBaseline),void 0!==this._graphicArgs.fillStyle&&a.fillText(this._graphicArgs.text||"Text Graphic",0,0),void 0!==this._graphicArgs.strokeStyle&&a.strokeText(this._graphicArgs.text||"Text Graphic",0,0)):"image"===this._graphic?null===this._width||null===this._height?a.drawImage(this._graphicArgs.image,0,0):a.drawImage(this._graphicArgs.image,0,0,this._width,this._height):"imageSprite"===this._graphic&&a.drawImage(this._graphicArgs.image,this._graphicArgs.sx,this._graphicArgs.sy,this._graphicArgs.swidth,this._graphicArgs.sheight,0,0,this._width,this._height)},Graphic.prototype.calls=[],Graphic.prototype.render=function(a){this.calls.forEach(function(b){a[b[0]].apply(a,b[1])})},Graphic.prototype.rectangle=function(a,b,c,d){this.calls.push(["rect",[a,b,c,d]])},Graphic.prototype.circle=function(a,b,c){this.calls.push(["arc",[a,b,c,0,2*Math.PI]])},Graphic.prototype.fillText=function(a,b,c,d){void 0===d?this.calls.push(["fillText",[a,b,c]]):this.calls.push(["fillText",[a,b,c,d]])},Graphic.prototype.strokeText=function(a,b,c,d){void 0===d?this.calls.push(["strokeText",[a,b,c]]):this.calls.push(["strokeText",[a,b,c,d]])},Graphic.prototype.image=function(a,b,c,d,e,f,g,h,i){void 0===d?this.calls.push(["drawImage",[b,c]]):void 0===f?this.calls.push(["drawImage",[b,c,d,e]]):this.calls.push(["drawImage",[f,g,h,i,b,c,d,e]])};var Key={BACKSPACE:8,CAPSLOCK:20,CONTROL:17,DELETEKEY:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PGDN:34,PGUP:33,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,_listeners:{},_state:{},_lastKeyCode:null,_onPress:function(a){void 0===Key._state[a.keyCode]&&(Key._lastKeyCode=a.keyCode,null!==Key.onKeyDown&&Key.onKeyDown()),Key._state[a.keyCode]=!0},_onRelease:function(a){Key._state[a.keyCode]&&(Key._lastKeyCode=a.keyCode,null!==Key.onKeyUp&&Key.onKeyUp(),delete Key._state[a.keyCode])},onKeyDown:null,onKeyUp:null,isDown:function(a){return Key._state[a]||!1},getCode:function(){return Key._lastKeyCode}};document.addEventListener("keydown",Key._onPress),document.addEventListener("keyup",Key._onRelease),MovieClip.prototype=Object.create(DisplayObject.prototype),MovieClip.objectCount=0,MovieClip.getUniqueName=function(a){var b="movieclip"+a;return b},MovieClip.prototype.depthCompare=function(a,b){return a._depth==b._depth?a._uniqueID-b._uniqueID:a._depth-b._depth},MovieClip.prototype.addChild=function(a){return a._parent=this,this[a._name]=a,this._children.push(a),a},MovieClip.prototype.addTween=function(a){this._tweens.push(a)},MovieClip.prototype.removeChild=function(a){this._children.splice(this._children.indexOf(a),1),a._parent=null,delete this[a._name]},MovieClip.prototype.tickLogic=function(){for(var a in this._tweens)this._tweens[a].tick(),this._tweens[a].isComplete()&&(delete this._tweens[a],this._tweens.splice(a,1));this._children.forEach(function(a){a.tickLogic()}),this.onEnterFrame&&this.onEnterFrame()},MovieClip.prototype.tickGraphics=function(a){this._children.sort(this.depthCompare),this._visible&&(a.save(),this.applyContext(a),this.renderGraphics(a),this._children.forEach(function(b){b.tickGraphics(a)}),a.restore())},ResourceLoader.prototype.loadImage=function(a,b,c){this[a]=new Image,this[a].onload=c,this[a].src=b},ResourceLoader.prototype.loadImages=function(a,b){var c=this,d=function(){c._loadedResources++,b&&b(c._totalResources,c._loadedResources,this)};for(var e in a)c._totalResources++,c.loadImage(e,a[e],d)},Stage.prototype=Object.create(MovieClip.prototype),Tween.prototype.tick=function(){if(!this.isComplete()){this.ratio=++this.current_frame/this.frames;for(var a in this.end)this.target[a]=this[this.type](this.current_frame,this.start[a],this.end[a]-this.start[a],this.frames);this.isComplete()&&null!==this.callback&&this.callback()}},Tween.prototype.isComplete=function(){return this.frames==this.current_frame},Tween.prototype.reset=function(){this.current_frame=0},Tween.prototype.linearTween=function(a,b,c,d){return c*a/d+b},Tween.prototype.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};